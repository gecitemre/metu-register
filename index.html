<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-9">
    <style type="text/css" title="currentStyle" media="screen">
        @import "combined.css";
    </style>
    <title>Registration</title>
    <script>
        let startTime;
        let timerInterval;
        let isRunning = false;

        // Start the timer when the page loads
        window.onload = function () {
            startTimer();
        };

        function startTimer() {
            if (!isRunning) {
                isRunning = true;
                startTime = new Date().getTime();
                timerInterval = setInterval(updateTimer, 10);
            }
        }

        function updateTimer() {
            const currentTime = new Date().getTime();
            const elapsedTime = currentTime - startTime;

            const milliseconds = Math.floor(elapsedTime % 1000);
            const seconds = Math.floor((elapsedTime / 1000) % 60);
            const minutes = Math.floor((elapsedTime / (1000 * 60)) % 60);

            document.getElementById('milliseconds').textContent = milliseconds.toString().padStart(3, '0');
            document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
            document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
        }

        function stopTimer() {
            if (isRunning) {
                isRunning = false;
                clearInterval(timerInterval);
                // You can add code here to save or display the final time
            }
        }

        // Store timer data in sessionStorage to persist across pages
        function storeTimerData() {
            sessionStorage.setItem('registrationStartTime', startTime);
            sessionStorage.setItem('isTimerRunning', isRunning);
        }

        // Add this to the form submission
        document.querySelector('form').addEventListener('submit', function () {
            storeTimerData();
        });

        function handleLogin(event) {
            event.preventDefault();

            // Get username
            const username = document.getElementById('textUserCode').value;

            // Store username and timer data
            sessionStorage.setItem('username', username);
            storeTimerData();

            // Redirect to register page
            window.location.href = 'register.html';

            return false;
        }
    </script>
</head>

<body>

    <div id="container">

        <div class="tl_hf"></div>
        <div class="tr_hf"></div>
        <div id="header">
            <img style="position: relative; float:left;" src="metu-logo-small.jpg" alt="">
            <span style="position: relative; left: -35px; top: 5px;">
                METU Interactive Registration
            </span>
        </div>

        <div id="timer" style="text-align: center; font-size: 24px; margin: 10px 0;">
            Time: <span id="minutes">00</span>:<span id="seconds">00</span>.<span id="milliseconds">000</span>
        </div>

        <div class="tl"></div>
        <div class="tr"></div>
        <div align="right">
            <a href="help.html" target="_blank" title="Registration help">[ <u>Help</u> ]</a>&nbsp;&nbsp;
        </div>
        <table cellpadding="0" cellspacing="0" width="100%">
            <tr>
                <td valign="top" class="seperator">
                    <div id="single_content">

                        <h2>Login</h2>

                        <div style="text-align: center; margin: 10px; color: #666;">
                            <em>Note: No user info or password is kept. You can enter any username or password, it is
                                not checked in a user database.</em>
                        </div>

                        <div id="formmessage">
                            <font color="red"></font>
                        </div>

                        <br>

                        <form method="POST" action="register.html" id="loginForm" onsubmit="return handleLogin(event)">

                            <div class="formContainer">
                                <div class="form">
                                    <label class="formLabel" for="textUserCode">User Code :</label>
                                    <input class="formInput" type="text" id="textUserCode" name="textUserCode"
                                        value=""><label class="formErr" for="textUserCode"></label>
                                    <br>

                                    <label class="formLabel" for="textPassword">Password :</label>
                                    <input class="formInput" type="password" id="textPassword" name="textPassword"
                                        value=""><label class="formErr" for="textPassword"></label>
                                    <br>

                                    <label class="formLabel" for="selectProgType">Program Type :</label>
                                    <select class="formInput" id="selectProgType" name="selectProgType">
                                        <option value="1">Major</option>
                                        <option value="2">Double Major</option>
                                        <option value="3">Minor</option>
                                        <option value="4">Teaching Certificate</option>
                                    </select>
                                    <br>
                                    <br>
                                    <input type="submit" name="submitLogin" value="[ Login ]">
                                    <br>
                                    <br>
                                    <!--
   <B>Click<a target='_blank' href="http://oidb.metu.edu.tr/duyuru/onlisans-ve-lisans-programlarinda-sinamali-durumda-olan-ogrenciler-icin-2013-2014i-donemine-m"> here</a> for the announcement regarding the undergraduate students whose status is probation</B>
    <strong><a target='_blank' href="http://math.metu.edu.tr/sites/math.metu.edu.tr/files/untitled2_0.pdf">Matematik 118, 120 ve 219 derslerini yaz okulunda almak isteyen ogrencilerin dikkatine.</a></strong>
-->
                                    <br>

                                </div>
                            </div>


                            <br>
                            <!--<font color="red">
You must obtain your advisor's approval if you have made any changes in your<br/>
course program during the add-drop period in order to complete your<br/>
registration.<br/>
</font>--><br>
                            <!--
<div align="right"><a href="https://oibs2.metu.edu.tr/help" target="_blank" title="Registration help">[ <u>Help</u> ]</a>&nbsp;&nbsp;</div>
-->
                        </form>
                    </div>

                </td>
            </tr>
        </table>
        <div class="bl"></div>
        <div class="br"></div>

        <div id="footer">
            <span style="position: relative; top: -4px; ">
                Â© CC <img style="position: relative; top: 5px;" src="cc-logo-toosmall.jpg" alt=""> 2008
            </span>
        </div>
        <div class="bl_hf"></div>
        <div class="br_hf"></div>

    </div>
</body>

</html>